<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parking</title>
    <link rel="stylesheet" href="park.css">
</head>

<body>
    <header>
        <nav>
            <ul>
                <li><a href="parking404.html"><br>Login</a></li>
                <li><a href="parking404.html"><br>Help</a></li>
                <li><a href="parking404.html"><br>Contact</a></li>
                <li><a href="lots.html"><br>Parking Lots</a></li>
                <li><a href="parking404.html"><br>Tickets</a></li>
                <li><a href="parking404.html"><br>Account</a></li>
            </ul>
        </nav>
    </header>
    
    <main>
        <h1>Here and the Spaces in the lot you clicked on</h1>
        <p id="parkingLots"></p>
    </main>

    <footer>
        <p>&copy; T. Kaminer</p>
    </footer>


    <script type="module">
        let htmlString = "<p> Fetching file: tyler-i-kaminer.github.io/SD330/parking.json";
        htmlString += "<br> Loading into: 'data' multi-dimensional object (array)";

        
            const response = await fetch("https://tyler-i-kaminer.github.io/SD330//parking.json");
            const data = await response.json();

            for(let i = 0; i < data['parking_lots'].length; i++){
                let lot = data['parking_lots'][i];

                htmlString += "<hr><p>Lot: " + "<a href='spaces.html'>" + lot['name'] + "</a> ";
                htmlString += "<p>Map: <br> <img src=" + lot['map_filename'] + " alt= " + lot['map_filename'];
                htmlString += "<ul><li>Total spaces = " + lot['total_spaces'] + " </li>";
                htmlString += "<li>Comments: " + lot['comments'] + " </li>";
                htmlString += "<li>Lot usage: " + lot['lotUsage'] + " </li></ul>";
                htmlString += "<br>";
            }

            document.getElementById('parkingLots').innerHTML += htmlString;
     </script>
    </body>
</html>
